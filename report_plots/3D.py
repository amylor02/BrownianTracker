import re
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
import scienceplots
plt.style.use(['science'])

data = """
Frame 200: x=1154.1884765625, y=137.22755432128906
Frame 201: x=1153.42333984375, y=140.21401977539062
Frame 202: x=1153.275390625, y=141.54286193847656
Frame 203: x=1153.148681640625, y=141.85450744628906
Frame 204: x=1153.140625, y=142.0824432373047
Frame 205: x=1153.580322265625, y=144.01670837402344
Frame 206: x=1153.738037109375, y=144.40533447265625
Frame 207: x=1151.4422607421875, y=140.91831970214844
Frame 208: x=1150.765625, y=139.92507934570312
Frame 209: x=1148.973876953125, y=139.21966552734375
Frame 210: x=1148.375732421875, y=138.8304901123047
Frame 211: x=1146.1195068359375, y=141.35464477539062
Frame 212: x=1144.8919677734375, y=142.13514709472656
Frame 213: x=1146.3206787109375, y=146.01361083984375
Frame 214: x=1146.1485595703125, y=147.4383544921875
Frame 215: x=1148.28369140625, y=149.42730712890625
Frame 216: x=1149.15185546875, y=149.94134521484375
Frame 217: x=1146.831298828125, y=150.76260375976562
Frame 218: x=1146.331787109375, y=150.771240234375
Frame 219: x=1147.263671875, y=149.83575439453125
Frame 220: x=1147.7603759765625, y=149.8223114013672
Frame 221: x=1147.55712890625, y=148.2736053466797
Frame 222: x=1147.42236328125, y=147.8630828857422
Frame 223: x=1145.925048828125, y=147.48431396484375
Frame 224: x=1144.986572265625, y=146.9411163330078
Frame 225: x=1143.4996337890625, y=148.11630249023438
Frame 226: x=1143.2509765625, y=148.80923461914062
Frame 227: x=1143.3212890625, y=149.4005126953125
Frame 228: x=1143.6761474609375, y=149.62916564941406
Frame 229: x=1142.73681640625, y=147.85348510742188
Frame 230: x=1141.9400634765625, y=146.83961486816406
Frame 231: x=1142.06689453125, y=146.1117706298828
Frame 232: x=1141.947265625, y=145.88568115234375
Frame 233: x=1142.932373046875, y=147.20675659179688
Frame 234: x=1142.98828125, y=147.451171875
Frame 235: x=1144.593994140625, y=149.50674438476562
Frame 236: x=1145.187255859375, y=150.21868896484375
Frame 237: x=1146.5546875, y=148.04544067382812
Frame 238: x=1146.8577880859375, y=147.42120361328125
Frame 239: x=1145.904541015625, y=146.69451904296875
Frame 240: x=1145.006591796875, y=146.61148071289062
Frame 241: x=1142.2120361328125, y=145.55557250976562
Frame 242: x=1141.515380859375, y=144.93038940429688
Frame 243: x=1143.394775390625, y=146.13121032714844
Frame 244: x=1143.909912109375, y=146.78329467773438
Frame 245: x=1146.399169921875, y=149.2344970703125
Frame 246: x=1147.2559814453125, y=149.7852020263672
Frame 247: x=1146.1376953125, y=147.1481170654297
Frame 248: x=1146.1416015625, y=145.9901885986328
Frame 249: x=1144.663818359375, y=146.35923767089844
Frame 250: x=1143.682373046875, y=146.3221893310547
Frame 251: x=1140.5810546875, y=142.69349670410156
Frame 252: x=1139.605224609375, y=141.54034423828125
Frame 253: x=1139.8968505859375, y=142.2703857421875
Frame 254: x=1139.949462890625, y=142.717041015625
Frame 255: x=1137.6103515625, y=139.61819458007812
Frame 256: x=1136.497314453125, y=138.19277954101562
Frame 257: x=1135.9931640625, y=136.05909729003906
Frame 258: x=1135.808837890625, y=135.87083435058594
Frame 259: x=1137.673095703125, y=134.35008239746094
Frame 260: x=1138.2919921875, y=133.72760009765625
Frame 261: x=1138.6962890625, y=135.2523193359375
Frame 262: x=1138.801025390625, y=135.73692321777344
Frame 263: x=1138.813720703125, y=137.4793243408203
Frame 264: x=1138.8731689453125, y=138.28436279296875
Frame 265: x=1137.8035888671875, y=140.84088134765625
Frame 266: x=1136.98876953125, y=142.04803466796875
Frame 267: x=1138.646728515625, y=140.947509765625
Frame 268: x=1139.017578125, y=140.55062866210938
Frame 269: x=1139.247314453125, y=137.85348510742188
Frame 270: x=1138.982177734375, y=136.5875701904297
Frame 271: x=1137.158447265625, y=134.87351989746094
Frame 272: x=1136.5238037109375, y=134.18421936035156
Frame 273: x=1135.99365234375, y=132.5040740966797
Frame 274: x=1135.756103515625, y=131.74256896972656
Frame 275: x=1135.4371337890625, y=131.27105712890625
Frame 276: x=1135.28759765625, y=131.44821166992188
Frame 277: x=1138.314697265625, y=133.845703125
Frame 278: x=1139.4139404296875, y=134.91868591308594
Frame 279: x=1137.646728515625, y=134.65863037109375
Frame 280: x=1137.11328125, y=134.61105346679688
Frame 281: x=1140.40380859375, y=132.8243865966797
Frame 282: x=1142.140869140625, y=131.7506103515625
Frame 283: x=1147.94677734375, y=130.0657196044922
Frame 284: x=1149.51904296875, y=129.5477752685547
Frame 285: x=1152.11181640625, y=128.7701416015625
Frame 286: x=1152.89599609375, y=128.99423217773438
Frame 287: x=1151.484619140625, y=127.4703369140625
Frame 288: x=1151.039794921875, y=127.5787124633789
Frame 289: x=1150.9703369140625, y=129.79872131347656
Frame 290: x=1150.88671875, y=130.14602661132812
Frame 291: x=1152.620361328125, y=129.77781677246094
Frame 292: x=1153.073486328125, y=129.73333740234375
Frame 293: x=1154.287841796875, y=127.802978515625
Frame 294: x=1154.7237548828125, y=126.91537475585938
Frame 295: x=1156.5146484375, y=127.40589904785156
Frame 296: x=1157.06103515625, y=127.95758056640625
Frame 297: x=1154.86083984375, y=124.60165405273438
Frame 298: x=1153.8896484375, y=123.42967987060547
Frame 299: x=1152.5677490234375, y=120.84284973144531
Frame 300: x=1151.8934326171875, y=120.01746368408203
Frame 301: x=1149.9951171875, y=118.75906372070312
Frame 302: x=1149.1741943359375, y=118.81072235107422
Frame 303: x=1148.14501953125, y=117.11811828613281
Frame 304: x=1148.0355224609375, y=116.38480377197266
Frame 305: x=1147.8935546875, y=113.83460998535156
Frame 306: x=1148.03564453125, y=113.14947509765625
Frame 307: x=1148.833984375, y=114.08989715576172
Frame 308: x=1149.032470703125, y=114.60470581054688
Frame 309: x=1151.478271484375, y=115.80583190917969
Frame 310: x=1152.2900390625, y=117.08342742919922
Frame 311: x=1151.509033203125, y=117.16816711425781
Frame 312: x=1151.43359375, y=116.95984649658203
Frame 313: x=1151.5928955078125, y=115.18524169921875
Frame 314: x=1151.5997314453125, y=114.86959838867188
Frame 315: x=1151.2877197265625, y=116.66661071777344
Frame 316: x=1151.23681640625, y=117.3170394897461
Frame 317: x=1148.3846435546875, y=117.51731872558594
Frame 318: x=1147.46533203125, y=117.66923522949219
Frame 319: x=1146.487060546875, y=120.56987762451172
Frame 320: x=1146.44775390625, y=121.65663146972656
Frame 321: x=1151.02685546875, y=124.29718017578125
Frame 322: x=1153.0814208984375, y=125.29652404785156
Frame 323: x=1150.166748046875, y=128.08570861816406
Frame 324: x=1149.3818359375, y=129.01663208007812
Frame 325: x=1149.98828125, y=129.68597412109375
Frame 326: x=1150.553955078125, y=129.8798370361328
Frame 327: x=1153.5496826171875, y=129.00338745117188
Frame 328: x=1154.5081787109375, y=128.58229064941406
Frame 329: x=1157.6285400390625, y=129.2443084716797
Frame 330: x=1158.836181640625, y=129.75637817382812
Frame 331: x=1158.397216796875, y=129.59091186523438
Frame 332: x=1158.962890625, y=129.7103271484375
Frame 333: x=1161.514404296875, y=130.76605224609375
Frame 334: x=1162.38525390625, y=131.37197875976562
Frame 335: x=1162.501220703125, y=131.98057556152344
Frame 336: x=1162.665283203125, y=131.91915893554688
Frame 337: x=1164.704345703125, y=131.93699645996094
Frame 338: x=1165.100830078125, y=131.8178253173828
Frame 339: x=1165.9588623046875, y=126.22505187988281
Frame 340: x=1166.58837890625, y=124.65042877197266
Frame 341: x=1166.314697265625, y=120.78091430664062
Frame 342: x=1166.32421875, y=119.5358657836914
Frame 343: x=1166.3155517578125, y=120.03744506835938
Frame 344: x=1166.091552734375, y=120.17150115966797
Frame 345: x=1164.693603515625, y=122.22154235839844
Frame 346: x=1164.043212890625, y=123.10357666015625
Frame 347: x=1160.1553955078125, y=121.28097534179688
Frame 348: x=1159.228759765625, y=120.53703308105469
Frame 349: x=1158.1434326171875, y=121.07762145996094
Frame 350: x=1157.8807373046875, y=121.22216796875
Frame 351: x=1158.899169921875, y=122.68643951416016
Frame 352: x=1159.269775390625, y=123.31857299804688
Frame 353: x=1158.07470703125, y=125.32882690429688
Frame 354: x=1157.36279296875, y=126.17158508300781
Frame 355: x=1156.4171142578125, y=128.60269165039062
Frame 356: x=1156.0439453125, y=129.70896911621094
Frame 357: x=1158.3623046875, y=131.1978759765625
Frame 358: x=1159.375732421875, y=131.01641845703125
Frame 359: x=1157.4229736328125, y=128.71929931640625
Frame 360: x=1156.39208984375, y=127.99461364746094
Frame 361: x=1153.6689453125, y=129.57223510742188
Frame 362: x=1152.7861328125, y=130.27020263671875
Frame 363: x=1152.101318359375, y=129.68333435058594
Frame 364: x=1151.947265625, y=129.4433135986328
Frame 365: x=1151.93115234375, y=131.13832092285156
Frame 366: x=1151.9365234375, y=131.72848510742188
Frame 367: x=1152.28076171875, y=132.22341918945312
Frame 368: x=1152.2109375, y=132.45828247070312
Frame 369: x=1152.57861328125, y=131.9394989013672
Frame 370: x=1151.892822265625, y=131.90219116210938
Frame 371: x=1152.177490234375, y=130.0797576904297
Frame 372: x=1152.3565673828125, y=129.38589477539062
Frame 373: x=1152.977294921875, y=130.7382354736328
Frame 374: x=1153.10009765625, y=131.0597686767578
Frame 375: x=1153.592529296875, y=127.41000366210938
Frame 376: x=1153.40966796875, y=126.33942413330078
Frame 377: x=1152.9423828125, y=126.47752380371094
Frame 378: x=1152.6976318359375, y=126.36996459960938
Frame 379: x=1151.696533203125, y=125.86175537109375
Frame 380: x=1151.853759765625, y=125.847900390625
Frame 381: x=1149.5703125, y=127.00822448730469
Frame 382: x=1148.5374755859375, y=127.39518737792969
Frame 383: x=1149.83251953125, y=127.62408447265625
Frame 384: x=1150.2467041015625, y=127.73773193359375
Frame 385: x=1150.4747314453125, y=127.48625183105469
Frame 386: x=1150.266357421875, y=127.71513366699219
Frame 387: x=1150.02294921875, y=131.02981567382812
Frame 388: x=1150.093505859375, y=131.97605895996094
Frame 389: x=1149.0408935546875, y=132.62205505371094
Frame 390: x=1148.9658203125, y=132.833740234375
Frame 391: x=1150.68701171875, y=133.9293212890625
Frame 392: x=1151.070556640625, y=134.67498779296875
Frame 393: x=1152.7266845703125, y=132.33126831054688
Frame 394: x=1152.9237060546875, y=131.2689971923828
Frame 395: x=1155.510009765625, y=133.04104614257812
Frame 396: x=1156.493896484375, y=133.43759155273438
Frame 397: x=1155.837646484375, y=134.74264526367188
Frame 398: x=1155.6031494140625, y=135.14517211914062
Frame 399: x=1153.81396484375, y=137.32440185546875
Frame 400: x=1153.01708984375, y=138.0103759765625
Frame 401: x=1153.05517578125, y=132.603759765625
Frame 402: x=1152.835205078125, y=130.8428955078125
Frame 403: x=1149.7841796875, y=129.24667358398438
Frame 404: x=1148.787353515625, y=128.60015869140625
Frame 405: x=1147.577880859375, y=128.64517211914062
Frame 406: x=1146.6610107421875, y=128.66229248046875
Frame 407: x=1147.46435546875, y=126.09648132324219
Frame 408: x=1148.155029296875, y=125.09297180175781
Frame 409: x=1148.77685546875, y=125.21795654296875
Frame 410: x=1149.3355712890625, y=125.52714538574219
Frame 411: x=1149.3621826171875, y=126.05387878417969
Frame 412: x=1149.5677490234375, y=126.15562438964844
Frame 413: x=1149.67822265625, y=125.7080078125
Frame 414: x=1149.4669189453125, y=125.62681579589844
Frame 415: x=1149.947509765625, y=125.5152587890625
Frame 416: x=1150.244140625, y=125.44755554199219
Frame 417: x=1148.69140625, y=125.36521911621094
Frame 418: x=1148.555908203125, y=125.43412780761719
Frame 419: x=1148.63232421875, y=125.3965835571289
Frame 420: x=1148.2318115234375, y=125.44247436523438
Frame 421: x=1148.770751953125, y=127.0405502319336
Frame 422: x=1149.08154296875, y=127.71745300292969
Frame 423: x=1149.8787841796875, y=127.0298843383789
Frame 424: x=1150.1640625, y=126.95419311523438
Frame 425: x=1149.3909912109375, y=126.11293029785156
Frame 426: x=1149.35498046875, y=125.34161376953125
Frame 427: x=1149.27978515625, y=124.62155151367188
Frame 428: x=1149.54150390625, y=124.53760528564453
Frame 429: x=1147.493896484375, y=124.58714294433594
Frame 430: x=1147.08740234375, y=124.92680358886719
Frame 431: x=1146.256591796875, y=125.03988647460938
Frame 432: x=1145.9512939453125, y=124.66879272460938
Frame 433: x=1145.745849609375, y=125.32465362548828
Frame 434: x=1145.742431640625, y=125.53241729736328
Frame 435: x=1145.94775390625, y=124.36565399169922
Frame 436: x=1146.0679931640625, y=124.11505889892578
Frame 437: x=1143.582763671875, y=125.19798278808594
Frame 438: x=1143.1259765625, y=124.75428771972656
Frame 439: x=1143.1402587890625, y=123.29818725585938
Frame 440: x=1142.9053955078125, y=122.6044921875
Frame 441: x=1138.445556640625, y=124.98342895507812
Frame 442: x=1136.262451171875, y=125.71223449707031
Frame 443: x=1137.04736328125, y=126.38260650634766
Frame 444: x=1137.03759765625, y=126.67420959472656
Frame 445: x=1137.7073974609375, y=124.9168472290039
Frame 446: x=1137.6956787109375, y=124.52812194824219
Frame 447: x=1138.34912109375, y=123.53244018554688
Frame 448: x=1138.52490234375, y=122.97332763671875
Frame 449: x=1137.75634765625, y=120.43716430664062
Frame 450: x=1137.53759765625, y=119.5767822265625
Frame 451: x=1137.658447265625, y=120.41661071777344
Frame 452: x=1138.16943359375, y=120.58746337890625
Frame 453: x=1138.667236328125, y=123.50480651855469
Frame 454: x=1138.57421875, y=124.58232116699219
Frame 455: x=1138.969970703125, y=122.76123809814453
Frame 456: x=1138.930908203125, y=121.9522705078125
Frame 457: x=1137.1123046875, y=119.89144897460938
Frame 458: x=1136.6767578125, y=119.12330627441406
Frame 459: x=1136.04736328125, y=117.9009017944336
Frame 460: x=1135.9810791015625, y=117.63528442382812
Frame 461: x=1137.77392578125, y=116.93057250976562
Frame 462: x=1138.1552734375, y=116.83509826660156
Frame 463: x=1140.552978515625, y=117.3555908203125
Frame 464: x=1141.2001953125, y=117.56871032714844
Frame 465: x=1138.190185546875, y=118.77002716064453
Frame 466: x=1137.642578125, y=119.39453887939453
Frame 467: x=1137.44189453125, y=116.78529357910156
Frame 468: x=1137.443603515625, y=115.99198913574219
Frame 469: x=1137.043701171875, y=117.38211059570312
Frame 470: x=1137.035888671875, y=117.52778625488281
Frame 471: x=1137.756103515625, y=114.99513244628906
Frame 472: x=1137.9755859375, y=113.99922180175781
Frame 473: x=1139.080810546875, y=114.66168975830078
Frame 474: x=1139.198486328125, y=114.72626495361328
Frame 475: x=1142.05615234375, y=116.74955749511719
Frame 476: x=1143.2861328125, y=117.02946472167969
Frame 477: x=1143.385009765625, y=119.07904052734375
Frame 478: x=1142.9224853515625, y=119.35017395019531
Frame 479: x=1144.4306640625, y=118.70526885986328
Frame 480: x=1145.381103515625, y=118.90135192871094
Frame 481: x=1145.10107421875, y=118.61924743652344
Frame 482: x=1145.02880859375, y=118.5541000366211
Frame 483: x=1145.37158203125, y=117.03026580810547
Frame 484: x=1145.5830078125, y=116.46843719482422
Frame 485: x=1146.284423828125, y=114.0759506225586
Frame 486: x=1146.2896728515625, y=113.47038269042969
Frame 487: x=1148.712890625, y=115.79236602783203
Frame 488: x=1149.97607421875, y=116.58134460449219
Frame 489: x=1149.591796875, y=116.88468170166016
Frame 490: x=1149.762451171875, y=117.23143005371094
Frame 491: x=1148.6328125, y=117.40998840332031
Frame 492: x=1148.23876953125, y=117.45700073242188
Frame 493: x=1148.611572265625, y=113.95097351074219
Frame 494: x=1148.957763671875, y=112.2255859375
Frame 495: x=1148.8447265625, y=111.23733520507812
Frame 496: x=1148.8818359375, y=111.13117980957031
Frame 497: x=1148.365478515625, y=111.08587646484375
Frame 498: x=1148.5379638671875, y=111.18150329589844
Frame 499: x=1152.43896484375, y=116.64564514160156
Frame 500: x=1153.068115234375, y=117.54306030273438
"""
frames = {}
pattern = re.compile(r'Frame (\d+): x=([\d.]+), y=([\d.]+)')

for line in data.split('\n'):
    if line.strip():
        match = pattern.match(line)
        if match:
            frame_num, x, y = map(float, match.groups())
            frames[frame_num/30-6] = ((x - 1078.064697265625), (y - 182.64437866210938))


x_values, y_values = zip(*frames.values())
fig = plt.figure(dpi=300)
ax = fig.add_subplot(111, projection='3d')

scaling_factor = 1e7  

for i in range(len(x_values) - 1):
    dx = x_values[i + 1] - x_values[i]
    dy = y_values[i + 1] - y_values[i]
    dz = 0  
    ax.quiver(x_values[i], y_values[i], int(list(frames.keys())[i]), dx, dy, dz,
              color='green', length=0.000001 * scaling_factor, arrow_length_ratio=.05, normalize=True,
              linewidth=.5, edgecolors='black', facecolors='none')

    
    ax.plot([x_values[i], x_values[i + 1]], [y_values[i], y_values[i + 1]], [int(list(frames.keys())[i]), int(list(frames.keys())[i + 1])], color='red', linewidth=0.5)

ax.scatter(x_values, y_values, list(map(int, frames.keys())), marker='.', label='Trajectory', color='blue', s=50)
ax.scatter(x_values[0], y_values[0], int(list(frames.keys())[0]), color='green', marker='h', label='Start', s=100)
ax.scatter(x_values[-1], y_values[-1], int(list(frames.keys())[-1]), color='red', marker='h', label='End', s=100)


ax.legend()
ax.grid(True)
ax.set_title('3D Plot: X-Y Coordinates=f(t) (XY-plane)')
ax.set_xlabel(r'X Coordinate ($\times 10^{-7}$ m)')
ax.set_ylabel(r'Y Coordinate ($\times 10^{-7}$ m)')
ax.set_zlabel('Seconds')

plt.show()